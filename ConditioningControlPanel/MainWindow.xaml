<Window x:Class="ConditioningControlPanel.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        Title="Conditioning Control Panel v3.0" 
        Height="881" Width="1355"
        MinHeight="795" MinWidth="1100"
        Background="#1A1A2E"
        WindowStartupLocation="Manual"
        WindowStyle="None"
        AllowsTransparency="False"
        ResizeMode="CanResizeWithGrip">
    
    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="0" 
                      ResizeBorderThickness="5"
                      GlassFrameThickness="0"
                      CornerRadius="0"
                      UseAeroCaptionButtons="False"/>
    </WindowChrome.WindowChrome>

    <Window.Resources>
        <!-- Colors -->
        <Color x:Key="PinkColor">#FF69B4</Color>
        <Color x:Key="DarkPink">#FF1493</Color>
        <Color x:Key="PanelBg">#252542</Color>
        <Color x:Key="DarkerBg">#1A1A2E</Color>
        <Color x:Key="TextLight">#E0E0E0</Color>
        <Color x:Key="TextMuted">#808080</Color>
        
        <SolidColorBrush x:Key="PinkBrush" Color="{StaticResource PinkColor}"/>
        <SolidColorBrush x:Key="DarkPinkBrush" Color="{StaticResource DarkPink}"/>
        <SolidColorBrush x:Key="PanelBgBrush" Color="{StaticResource PanelBg}"/>
        <SolidColorBrush x:Key="DarkerBgBrush" Color="{StaticResource DarkerBg}"/>
        <SolidColorBrush x:Key="TextLightBrush" Color="{StaticResource TextLight}"/>
        <SolidColorBrush x:Key="TextMutedBrush" Color="{StaticResource TextMuted}"/>

        <!-- Custom Tooltip Style -->
        <Style TargetType="ToolTip">
            <Setter Property="Background" Value="#1A1A2E"/>
            <Setter Property="Foreground" Value="#E0E0E0"/>
            <Setter Property="BorderBrush" Value="{StaticResource PinkBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="10,6"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Placement" Value="Mouse"/>
            <Setter Property="HasDropShadow" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToolTip">
                        <Border Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6" Padding="{TemplateBinding Padding}">
                            <Border.Effect>
                                <DropShadowEffect Color="Black" BlurRadius="8" Opacity="0.5" ShadowDepth="2"/>
                            </Border.Effect>
                            <ContentPresenter/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Toggle Switch Style -->
        <Style x:Key="ToggleStyle" TargetType="CheckBox">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="CheckBox">
                        <Grid>
                            <Border x:Name="track" Width="44" Height="22" CornerRadius="11" 
                                    Background="#404060" Cursor="Hand"/>
                            <Border x:Name="thumb" Width="18" Height="18" CornerRadius="9" 
                                    Background="White" HorizontalAlignment="Left" Margin="2,0,0,0"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="track" Property="Background" Value="{StaticResource PinkBrush}"/>
                                <Setter TargetName="thumb" Property="Margin" Value="24,0,0,0"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Pink Button Style -->
        <Style x:Key="PinkButton" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource PinkBrush}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="20,10"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="6" Padding="{TemplateBinding Padding}" BorderThickness="0">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="{StaticResource DarkPinkBrush}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Outline Button Style -->
        <Style x:Key="OutlineButton" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource PinkBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource PinkBrush}"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                BorderThickness="{TemplateBinding BorderThickness}" 
                                CornerRadius="6" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#30FF69B4"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Window Control Button Style -->
        <Style x:Key="WindowControlButton" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" Padding="0">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#40FFFFFF"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Window Close Button Style -->
        <Style x:Key="WindowCloseButton" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" Padding="0">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#E81123"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Slider Style -->
        <Style x:Key="PinkSlider" TargetType="Slider">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Slider">
                        <Grid>
                            <Border Height="4" Background="#404060" CornerRadius="2" VerticalAlignment="Center"/>
                            <Border Height="4" Background="{StaticResource PinkBrush}" CornerRadius="2" 
                                    VerticalAlignment="Center" HorizontalAlignment="Left"
                                    Width="{Binding Value, RelativeSource={RelativeSource TemplatedParent}, 
                                            Converter={StaticResource SliderWidthConverter}}"/>
                            <Track x:Name="PART_Track">
                                <Track.Thumb>
                                    <Thumb>
                                        <Thumb.Template>
                                            <ControlTemplate>
                                                <Ellipse Width="16" Height="16" Fill="{StaticResource PinkBrush}" Cursor="Hand"/>
                                            </ControlTemplate>
                                        </Thumb.Template>
                                    </Thumb>
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Section Panel Style -->
        <Style x:Key="SectionPanel" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource PanelBgBrush}"/>
            <Setter Property="CornerRadius" Value="10"/>
            <Setter Property="Padding" Value="9"/>
            <Setter Property="Margin" Value="0,0,0,9"/>
        </Style>

        <!-- Section Header Style -->
        <Style x:Key="SectionHeader" TargetType="TextBlock">
            <Setter Property="Foreground" Value="{StaticResource PinkBrush}"/>
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Margin" Value="0,0,0,8"/>
        </Style>

        <!-- Label Style -->
        <Style x:Key="SettingLabel" TargetType="TextBlock">
            <Setter Property="Foreground" Value="{StaticResource TextLightBrush}"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <!-- Value Label Style -->
        <Style x:Key="ValueLabel" TargetType="TextBlock">
            <Setter Property="Foreground" Value="{StaticResource PinkBrush}"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="HorizontalAlignment" Value="Right"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        
        <!-- Achievement Tile Style -->
        <Style x:Key="AchievementTile" TargetType="Border">
            <Setter Property="Background" Value="#1E1E3A"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Margin" Value="4"/>
            <Setter Property="Padding" Value="5"/>
            <Setter Property="MinHeight" Value="100"/>
            <Setter Property="MinWidth" Value="100"/>
        </Style>
        
        <!-- Feature Image Style -->
        <Style x:Key="FeatureImageBorder" TargetType="Border">
            <Setter Property="Width" Value="180"/>
            <Setter Property="Height" Value="180"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Background" Value="#1A1A2E"/>
            <Setter Property="Margin" Value="10,0,0,0"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="36"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Custom Title Bar -->
        <Border Grid.Row="0" Background="{StaticResource PinkBrush}" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Icon and Title -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center" Margin="12,0,0,0">
                    <TextBlock Text="ðŸ’—" FontSize="16" Margin="0,0,8,0" VerticalAlignment="Center"/>
                    <TextBlock Text="Conditioning Control Panel v3.0" Foreground="White" FontSize="13" FontWeight="SemiBold" VerticalAlignment="Center"/>
                </StackPanel>
                
                <!-- Window Control Buttons -->
                <StackPanel Grid.Column="2" Orientation="Horizontal">
                    <Button x:Name="BtnMinimize" Content="â”€" Width="46" Height="36" 
                            Click="BtnMinimize_Click" Style="{StaticResource WindowControlButton}"/>
                    <Button x:Name="BtnMaximize" Content="â˜" Width="46" Height="36" 
                            Click="BtnMaximize_Click" Style="{StaticResource WindowControlButton}"/>
                    <Button x:Name="BtnClose" Content="âœ•" Width="46" Height="36" 
                            Click="BtnClose_Click" Style="{StaticResource WindowCloseButton}"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Header Bar -->
        <Border Grid.Row="1" Background="{StaticResource PanelBgBrush}" Padding="15,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Title + Player Title -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <!-- Player Title and Level (moved to far left) -->
                    <TextBlock Text="â­" FontSize="18" Margin="0,0,8,0" VerticalAlignment="Center"/>
                    <TextBlock x:Name="TxtPlayerTitle" Text="BASIC BIMBO" Foreground="#FF69B4" 
                               FontSize="18" FontWeight="Bold" VerticalAlignment="Center" Margin="0,0,12,0">
                        <TextBlock.Effect>
                            <DropShadowEffect Color="#FF69B4" BlurRadius="8" ShadowDepth="0" Opacity="0.6"/>
                        </TextBlock.Effect>
                    </TextBlock>
                    <Border Background="{StaticResource PinkBrush}" CornerRadius="12" Padding="10,4" Margin="0,0,20,0">
                        <TextBlock x:Name="TxtLevel" Text="Lvl 1" Foreground="White" FontWeight="Bold" FontSize="12"/>
                    </Border>
                    
                    <!-- App Title -->
                    <TextBlock Text="ðŸ’—" FontSize="15" Margin="0,0,8,0"/>
                    <TextBlock Text="Conditioning Control Panel" Foreground="White" FontSize="18" FontWeight="Bold"/>
                    <TextBlock Text="v3.0" Foreground="{StaticResource PinkBrush}" FontSize="12" FontWeight="Normal" 
                               VerticalAlignment="Bottom" Margin="6,0,0,2"/>
                </StackPanel>

                <!-- Tab Buttons -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Center">
                    <Button x:Name="BtnSettings" Content="âš™ Settings" Style="{StaticResource PinkButton}" 
                            Margin="5,0" Click="BtnSettings_Click"/>
                    <Button x:Name="BtnPresets" Content="ðŸ“‹ Presets" Style="{StaticResource OutlineButton}" 
                            Margin="5,0" Click="BtnPresets_Click"/>
                    <Button x:Name="BtnProgression" Content="ðŸ“Š Progression" Style="{StaticResource OutlineButton}" 
                            Margin="5,0" Click="BtnProgression_Click"/>
                    <Button x:Name="BtnAchievements" Content="ðŸ† Achievements" Style="{StaticResource OutlineButton}" 
                            Margin="5,0" Click="BtnAchievements_Click"/>
                </StackPanel>

                <!-- Preset Dropdown -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                    <ComboBox x:Name="CmbPresets" Width="160" Margin="0,0,0,0"
                              SelectionChanged="CmbPresets_SelectionChanged"
                              ToolTip="Select a preset configuration">
                        <ComboBox.Style>
                            <Style TargetType="ComboBox">
                                <Setter Property="Background" Value="#1E1E3A"/>
                                <Setter Property="Foreground" Value="#E0E0E0"/>
                                <Setter Property="BorderBrush" Value="{StaticResource PinkBrush}"/>
                                <Setter Property="BorderThickness" Value="1"/>
                                <Setter Property="Padding" Value="8,6"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="ComboBox">
                                            <Grid>
                                                <ToggleButton x:Name="ToggleButton" 
                                                              IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                                              Focusable="False" ClickMode="Press">
                                                    <ToggleButton.Template>
                                                        <ControlTemplate TargetType="ToggleButton">
                                                            <Border Background="#1E1E3A" BorderBrush="{StaticResource PinkBrush}" 
                                                                    BorderThickness="1" CornerRadius="4" Cursor="Hand">
                                                                <Grid>
                                                                    <Grid.ColumnDefinitions>
                                                                        <ColumnDefinition Width="*"/>
                                                                        <ColumnDefinition Width="20"/>
                                                                    </Grid.ColumnDefinitions>
                                                                    <Path Grid.Column="1" Fill="#E0E0E0" HorizontalAlignment="Center" VerticalAlignment="Center"
                                                                          Data="M 0 0 L 4 4 L 8 0 Z"/>
                                                                </Grid>
                                                            </Border>
                                                        </ControlTemplate>
                                                    </ToggleButton.Template>
                                                </ToggleButton>
                                                <ContentPresenter x:Name="ContentSite" IsHitTestVisible="False"
                                                                  Content="{TemplateBinding SelectionBoxItem}"
                                                                  ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                                                  Margin="8,6,25,6" VerticalAlignment="Center" HorizontalAlignment="Left">
                                                    <ContentPresenter.Resources>
                                                        <Style TargetType="TextBlock">
                                                            <Setter Property="Foreground" Value="#E0E0E0"/>
                                                        </Style>
                                                    </ContentPresenter.Resources>
                                                </ContentPresenter>
                                                <TextBlock x:Name="Watermark" Text="Preset" Foreground="#808090" 
                                                           Margin="8,6,25,6" VerticalAlignment="Center" IsHitTestVisible="False"
                                                           Visibility="Collapsed"/>
                                                <Popup x:Name="PART_Popup" IsOpen="{TemplateBinding IsDropDownOpen}" 
                                                       Placement="Bottom" AllowsTransparency="True" Focusable="False"
                                                       PopupAnimation="Slide">
                                                    <Border Background="#1E1E3A" BorderBrush="{StaticResource PinkBrush}" 
                                                            BorderThickness="1" CornerRadius="4" Margin="0,2,0,0"
                                                            MinWidth="{TemplateBinding ActualWidth}">
                                                        <ScrollViewer MaxHeight="200" VerticalScrollBarVisibility="Auto">
                                                            <ItemsPresenter/>
                                                        </ScrollViewer>
                                                    </Border>
                                                </Popup>
                                            </Grid>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="SelectedItem" Value="{x:Null}">
                                                    <Setter TargetName="Watermark" Property="Visibility" Value="Visible"/>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </ComboBox.Style>
                        <ComboBox.ItemContainerStyle>
                            <Style TargetType="ComboBoxItem">
                                <Setter Property="Foreground" Value="#E0E0E0"/>
                                <Setter Property="Background" Value="#1E1E3A"/>
                                <Setter Property="Padding" Value="8,6"/>
                                <Setter Property="Cursor" Value="Hand"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="ComboBoxItem">
                                            <Border Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}">
                                                <ContentPresenter/>
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="Background" Value="#30FF69B4"/>
                                                </Trigger>
                                                <Trigger Property="IsSelected" Value="True">
                                                    <Setter Property="Background" Value="{StaticResource PinkBrush}"/>
                                                    <Setter Property="Foreground" Value="White"/>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </ComboBox.ItemContainerStyle>
                    </ComboBox>
                </StackPanel>
            </Grid>
        </Border>

        <!-- XP Progress Bar -->
        <Grid Grid.Row="2" Margin="15,10,15,5">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <TextBlock x:Name="TxtLevelLabel" Grid.Column="0" Text="LVL 1" Foreground="{StaticResource PinkBrush}" 
                       FontWeight="Bold" FontSize="12" VerticalAlignment="Center" Margin="0,0,10,0"/>
            <Border Grid.Column="1" Background="#404060" CornerRadius="4" Height="8">
                <Border x:Name="XPBar" Background="{StaticResource PinkBrush}" CornerRadius="4" 
                        HorizontalAlignment="Left" Width="100"/>
            </Border>
            <TextBlock x:Name="TxtXP" Grid.Column="2" Text="0 / 70 XP" Foreground="{StaticResource TextMutedBrush}" 
                       FontSize="11" VerticalAlignment="Center" Margin="10,0,0,0"/>
        </Grid>

        <!-- Main Content - Settings Tab -->
        <Grid x:Name="SettingsTab" Grid.Row="3" Margin="10,5,10,2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="330"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="320"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- LEFT COLUMN -->
            <ScrollViewer Grid.Column="0" Grid.Row="0" VerticalScrollBarVisibility="Auto" Margin="5">
                <StackPanel>
                    
                    <!-- Flash Images Section -->
                    <Border Style="{StaticResource SectionPanel}" Padding="10,6"
                            ToolTip="Random images that appear on screen periodically.&#x0a;Add your own images to assets/images folder.&#x0a;Supports PNG, JPG, GIF formats.">
                        <StackPanel>
                            <TextBlock Style="{StaticResource SectionHeader}" Text="âš¡ Flash Images" Margin="0,0,0,2"/>
                            
                            <!-- Enable / Clickable / Hydra in one row -->
                            <Grid Margin="0,2">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Orientation="Horizontal" Margin="0,0,10,0"
                                            ToolTip="Turn flash images on or off">
                                    <CheckBox x:Name="ChkFlashEnabled" Style="{StaticResource ToggleStyle}" IsChecked="True"/>
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="Enable" Margin="5,0,0,0" FontSize="11"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" Orientation="Horizontal" Margin="0,0,10,0"
                                            ToolTip="When enabled, clicking an image dismisses it.&#x0a;When disabled, images are click-through.">
                                    <CheckBox x:Name="ChkClickable" Style="{StaticResource ToggleStyle}" IsChecked="True"/>
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="Click" Margin="5,0,0,0" FontSize="11"/>
                                </StackPanel>
                                <StackPanel Grid.Column="2" Orientation="Horizontal"
                                            ToolTip="Hydra Mode: Clicking an image spawns&#x0a;two more images instead of dismissing it.&#x0a;Creates an escalating challenge!">
                                    <CheckBox x:Name="ChkCorruption" Style="{StaticResource ToggleStyle}"/>
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="ðŸ™Hydra" Margin="5,0,0,0" FontSize="11"/>
                                </StackPanel>
                            </Grid>
                            
                            <!-- Per Hour / Images in two columns -->
                            <Grid Margin="0,2,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="8"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" ToolTip="How many flash events occur per hour.&#x0a;Higher values = more frequent flashes.">
                                    <Grid><TextBlock Style="{StaticResource SettingLabel}" Text="Per Hour" FontSize="11"/><TextBlock x:Name="TxtPerMin" Style="{StaticResource ValueLabel}" Text="10" HorizontalAlignment="Right"/></Grid>
                                    <Slider x:Name="SliderPerMin" Minimum="1" Maximum="180" Value="10" Margin="0,1" ValueChanged="SliderPerMin_Changed"/>
                                </StackPanel>
                                <StackPanel Grid.Column="2" ToolTip="Number of images shown per flash event.&#x0a;Multiple images appear simultaneously.">
                                    <Grid><TextBlock Style="{StaticResource SettingLabel}" Text="Images" FontSize="11"/><TextBlock x:Name="TxtImages" Style="{StaticResource ValueLabel}" Text="5" HorizontalAlignment="Right"/></Grid>
                                    <Slider x:Name="SliderImages" Minimum="1" Maximum="15" Value="5" Margin="0,1" ValueChanged="SliderImages_Changed"/>
                                </StackPanel>
                            </Grid>
                            
                            <!-- Max On Screen -->
                            <Grid Margin="0,2,0,0" ToolTip="Maximum images displayed at once.&#x0a;Limits screen clutter during Hydra mode.">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Style="{StaticResource SettingLabel}" Text="Max On Screen" FontSize="11"/>
                                <TextBlock x:Name="TxtMaxOnScreen" Grid.Column="1" Style="{StaticResource ValueLabel}" Text="20"/>
                            </Grid>
                            <Slider x:Name="SliderMaxOnScreen" Minimum="5" Maximum="20" Value="20" Margin="0,1" ValueChanged="SliderMaxOnScreen_Changed"/>
                        </StackPanel>
                    </Border>

                    <!-- Visuals Section -->
                    <Border Style="{StaticResource SectionPanel}" Padding="10,6"
                            ToolTip="Visual appearance settings for flash images.&#x0a;Customize size, transparency, and animations.">
                        <StackPanel>
                            <TextBlock Style="{StaticResource SectionHeader}" Text="ðŸ‘ Visuals" Margin="0,0,0,2"/>
                            
                            <!-- Size / Opacity in two columns -->
                            <Grid Margin="0,2,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="8"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" ToolTip="Scale of flash images.&#x0a;100% = original size, 200% = double size.">
                                    <Grid><TextBlock Style="{StaticResource SettingLabel}" Text="Size" FontSize="11"/><TextBlock x:Name="TxtSize" Style="{StaticResource ValueLabel}" Text="100%" HorizontalAlignment="Right"/></Grid>
                                    <Slider x:Name="SliderSize" Minimum="50" Maximum="250" Value="100" Margin="0,1" ValueChanged="SliderSize_Changed"/>
                                </StackPanel>
                                <StackPanel Grid.Column="2" ToolTip="Transparency of flash images.&#x0a;Lower = more see-through, 100% = fully solid.">
                                    <Grid><TextBlock Style="{StaticResource SettingLabel}" Text="Opacity" FontSize="11"/><TextBlock x:Name="TxtOpacity" Style="{StaticResource ValueLabel}" Text="100%" HorizontalAlignment="Right"/></Grid>
                                    <Slider x:Name="SliderOpacity" Minimum="10" Maximum="100" Value="100" Margin="0,1" ValueChanged="SliderOpacity_Changed"/>
                                </StackPanel>
                            </Grid>
                            
                            <!-- Fade / Duration in two columns -->
                            <Grid Margin="0,2,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="8"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" ToolTip="Fade in/out animation speed.&#x0a;0% = instant appear/disappear.&#x0a;100% = slow smooth fade.">
                                    <Grid><TextBlock Style="{StaticResource SettingLabel}" Text="Fade" FontSize="11"/><TextBlock x:Name="TxtFade" Style="{StaticResource ValueLabel}" Text="50%" HorizontalAlignment="Right"/></Grid>
                                    <Slider x:Name="SliderFade" Minimum="0" Maximum="100" Value="50" Margin="0,1" ValueChanged="SliderFade_Changed"/>
                                </StackPanel>
                                <StackPanel Grid.Column="2" ToolTip="How long images stay on screen.&#x0a;Only used when audio is disabled.">
                                    <Grid><TextBlock Style="{StaticResource SettingLabel}" Text="Duration" FontSize="11"/><TextBlock x:Name="TxtFlashDuration" Style="{StaticResource ValueLabel}" Text="5s" HorizontalAlignment="Right"/></Grid>
                                    <Slider x:Name="SliderFlashDuration" Minimum="1" Maximum="30" Value="5" Margin="0,1" ValueChanged="SliderFlashDuration_Changed"/>
                                </StackPanel>
                            </Grid>
                            
                            <!-- Link to Audio -->
                            <Border Background="#3D2D4D" CornerRadius="5" Padding="8,6" Margin="0,5,0,0"
                                    ToolTip="When enabled, flash duration matches audio length.&#x0a;Disable to use manual duration slider.&#x0a;Audio disabled automatically above 30 flashes/hour.">
                                <Grid>
                                    <CheckBox x:Name="ChkFlashAudio" IsChecked="True" Checked="ChkFlashAudio_Changed" Unchecked="ChkFlashAudio_Changed">
                                        <TextBlock Text="ðŸ“Š Link to Audio Trigger" FontSize="12" FontWeight="SemiBold"/>
                                    </CheckBox>
                                    <TextBlock x:Name="TxtAudioWarning" Text="âš  Max 30/h" Foreground="#FFB347" FontSize="10" 
                                               HorizontalAlignment="Right" VerticalAlignment="Center" Visibility="Collapsed"/>
                                </Grid>
                            </Border>
                        </StackPanel>
                    </Border>

                    <!-- Logo (Clickable for Neon Obsession achievement) -->
                    <Border Background="#01000000" Padding="0" Height="302" Margin="0,0,0,8"
                            Cursor="Hand" MouseLeftButtonDown="ImgLogo_MouseLeftButtonDown"
                            ToolTip="Click me rapidly! ðŸ’—">
                        <Image x:Name="ImgLogo" Stretch="Uniform" 
                               HorizontalAlignment="Stretch" VerticalAlignment="Center"
                               RenderOptions.BitmapScalingMode="HighQuality"/>
                    </Border>

                    <!-- START Button -->
                    <Button x:Name="BtnStart" Style="{StaticResource PinkButton}" 
                            Height="50" FontSize="18" Margin="0,5" Click="BtnStart_Click"
                            ToolTip="Start/Stop the conditioning engine">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="â–¶" Margin="0,0,10,0"/>
                            <TextBlock Text="START"/>
                        </StackPanel>
                    </Button>
                </StackPanel>
            </ScrollViewer>

            <!-- MIDDLE COLUMN -->
            <ScrollViewer Grid.Column="1" Grid.Row="0" VerticalScrollBarVisibility="Auto" Margin="5">
                <StackPanel>
                    
                    <!-- Mandatory Video Section -->
                    <Border Style="{StaticResource SectionPanel}" Padding="10,8"
                            ToolTip="Fullscreen videos that play periodically.&#x0a;Add videos to assets/videos folder.&#x0a;Supports MP4, WebM, AVI formats.">
                        <StackPanel>
                            <Grid>
                                <TextBlock Style="{StaticResource SectionHeader}" Text="ðŸŽ¬ Mandatory Video"/>
                                <Button x:Name="BtnTestVideo" Content="â–¶ Test" Style="{StaticResource OutlineButton}" 
                                        HorizontalAlignment="Right" Padding="10,4" Click="BtnTestVideo_Click"
                                        ToolTip="Play a random video now to test"/>
                            </Grid>
                            
                            <!-- Enable + Strict + Per Hour -->
                            <Grid Margin="0,6,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="30"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Orientation="Horizontal" ToolTip="Turn mandatory videos on or off">
                                    <CheckBox x:Name="ChkVideoEnabled" Style="{StaticResource ToggleStyle}"/>
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="Enable" Margin="6,0,15,0"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" Orientation="Horizontal"
                                            ToolTip="âš  STRICT MODE: Videos cannot be skipped!&#x0a;You must watch the entire video.&#x0a;Use with caution.">
                                    <CheckBox x:Name="ChkStrictLock" Style="{StaticResource ToggleStyle}" Checked="ChkStrictLock_Checked"/>
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="âš  Strict" Foreground="#FFB347" Margin="6,0,15,0"/>
                                </StackPanel>
                                <Slider Grid.Column="2" x:Name="SliderPerHour" Minimum="1" Maximum="20" Value="2" ValueChanged="SliderPerHour_Changed"
                                        ToolTip="Videos per hour"/>
                                <TextBlock x:Name="TxtPerHour" Grid.Column="3" Style="{StaticResource ValueLabel}" Text="2" HorizontalAlignment="Right"/>
                            </Grid>

                            <!-- Mini-Game Sub-Section -->
                            <Border Background="#1E1E3A" CornerRadius="6" Padding="12,10" Margin="0,12,0,0"
                                    ToolTip="Attention check during videos.&#x0a;Click targets that appear to prove you're watching.&#x0a;Failing in Strict mode restarts the video!">
                                <StackPanel>
                                    <Grid>
                                        <TextBlock Text="ðŸŽ¯ Mini-Game" Foreground="{StaticResource PinkBrush}" FontSize="13" FontWeight="Bold"/>
                                        <CheckBox x:Name="ChkMiniGameEnabled" Style="{StaticResource ToggleStyle}" HorizontalAlignment="Right"
                                                  ToolTip="Enable attention check targets"/>
                                    </Grid>
                                    
                                    <!-- Targets / Duration / Size -->
                                    <Grid Margin="0,10,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel Grid.Column="0" Margin="0,0,6,0" ToolTip="Number of targets to click per video">
                                            <Grid><TextBlock Text="Targets" FontSize="12" Foreground="#A0A0B0"/><TextBlock x:Name="TxtTargets" Text="3" FontSize="12" Foreground="#E0E0E0" HorizontalAlignment="Right"/></Grid>
                                            <Slider x:Name="SliderTargets" Minimum="1" Maximum="10" Value="3" Margin="0,5,0,0" ValueChanged="SliderTargets_Changed"/>
                                        </StackPanel>
                                        <StackPanel Grid.Column="1" Margin="3,0" ToolTip="Seconds each target stays visible">
                                            <Grid><TextBlock Text="Duration" FontSize="12" Foreground="#A0A0B0"/><TextBlock x:Name="TxtDuration" Text="5" FontSize="12" Foreground="#E0E0E0" HorizontalAlignment="Right"/></Grid>
                                            <Slider x:Name="SliderDuration" Minimum="1" Maximum="15" Value="5" Margin="0,5,0,0" ValueChanged="SliderDuration_Changed"/>
                                        </StackPanel>
                                        <StackPanel Grid.Column="2" Margin="6,0,0,0" ToolTip="Target button size in pixels">
                                            <Grid><TextBlock Text="Size" FontSize="12" Foreground="#A0A0B0"/><TextBlock x:Name="TxtTargetSize" Text="70" FontSize="12" Foreground="#E0E0E0" HorizontalAlignment="Right"/></Grid>
                                            <Slider x:Name="SliderTargetSize" Minimum="30" Maximum="150" Value="70" Margin="0,5,0,0" ValueChanged="SliderTargetSize_Changed"/>
                                        </StackPanel>
                                    </Grid>
                                    
                                    <Button Content="ðŸ“ Manage" Style="{StaticResource PinkButton}" Margin="0,12,0,0" Padding="10,8" Click="BtnManageAttention_Click"
                                            ToolTip="Edit attention check phrases"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Border>

                    <!-- Subliminals Section -->
                    <Border Style="{StaticResource SectionPanel}" Padding="12,10"
                            ToolTip="Brief text messages that flash on screen.&#x0a;Customize messages in the Messages editor.&#x0a;Can be paired with whispered audio.">
                        <StackPanel>
                            <Grid>
                                <TextBlock Style="{StaticResource SectionHeader}" Text="ðŸ’­ Subliminals"/>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                    <Button Content="âš™" Style="{StaticResource OutlineButton}" Padding="6,3" Click="BtnSubliminalSettings_Click" Margin="0,0,8,0"
                                            ToolTip="Advanced subliminal visual settings"/>
                                    <CheckBox x:Name="ChkSubliminalEnabled" Style="{StaticResource ToggleStyle}"
                                              ToolTip="Enable/disable subliminal messages"/>
                                </StackPanel>
                            </Grid>
                            
                            <!-- Per Min / Frames / Opacity in 3 columns -->
                            <Grid Margin="0,10,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Margin="0,0,6,0" ToolTip="Messages shown per minute">
                                    <Grid><TextBlock Text="Per Min" FontSize="12" Foreground="#A0A0B0"/><TextBlock x:Name="TxtSubPerMin" Text="5" FontSize="12" Foreground="#E0E0E0" HorizontalAlignment="Right"/></Grid>
                                    <Slider x:Name="SliderSubPerMin" Minimum="1" Maximum="30" Value="5" Margin="0,5,0,0" ValueChanged="SliderSubPerMin_Changed"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" Margin="3,0" ToolTip="Display duration in frames.&#x0a;Lower = faster flash, harder to read.">
                                    <Grid><TextBlock Text="Frames" FontSize="12" Foreground="#A0A0B0"/><TextBlock x:Name="TxtFrames" Text="2" FontSize="12" Foreground="#E0E0E0" HorizontalAlignment="Right"/></Grid>
                                    <Slider x:Name="SliderFrames" Minimum="1" Maximum="10" Value="2" Margin="0,5,0,0" ValueChanged="SliderFrames_Changed"/>
                                </StackPanel>
                                <StackPanel Grid.Column="2" Margin="6,0,0,0" ToolTip="Text visibility. Lower = more subtle.">
                                    <Grid><TextBlock Text="Opacity" FontSize="12" Foreground="#A0A0B0"/><TextBlock x:Name="TxtSubOpacity" Text="80%" FontSize="12" Foreground="#E0E0E0" HorizontalAlignment="Right"/></Grid>
                                    <Slider x:Name="SliderSubOpacity" Minimum="10" Maximum="100" Value="80" Margin="0,5,0,0" ValueChanged="SliderSubOpacity_Changed"/>
                                </StackPanel>
                            </Grid>
                            
                            <Button Content="ðŸ“ Messages" Style="{StaticResource PinkButton}" Margin="0,12,0,0" Padding="10,8" Click="BtnManageMessages_Click"
                                    ToolTip="Edit the list of subliminal messages"/>

                            <!-- Audio Whispers -->
                            <Grid Margin="0,12,0,0" ToolTip="Play whispered audio when messages appear.&#x0a;Add audio files matching message text&#x0a;to assets/whispers folder.">
                                <StackPanel Orientation="Horizontal">
                                    <CheckBox x:Name="ChkAudioWhispers" Style="{StaticResource ToggleStyle}"/>
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="ðŸ“Š Audio Whispers" Margin="6,0,0,0"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                    <Slider x:Name="SliderWhisperVol" Minimum="0" Maximum="100" Value="50" Width="100" ValueChanged="SliderWhisperVol_Changed"/>
                                    <TextBlock x:Name="TxtWhisperVol" Style="{StaticResource ValueLabel}" Text="50%" Width="40"/>
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- System Section -->
                    <Border Style="{StaticResource SectionPanel}" Padding="10,8"
                            ToolTip="Application behavior and startup settings.">
                        <StackPanel>
                            <Grid>
                                <TextBlock Style="{StaticResource SectionHeader}" Text="âš™ System"/>
                                <Button Content="ðŸ“š Assets" Style="{StaticResource OutlineButton}" 
                                        HorizontalAlignment="Right" Padding="10,4" Click="BtnOpenAssets_Click"
                                        ToolTip="Open assets folder (images, videos, sounds)"/>
                            </Grid>
                            
                            <Grid Margin="0,6,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal" Margin="0,3"
                                            ToolTip="Show content on all monitors">
                                    <CheckBox x:Name="ChkDualMon" Style="{StaticResource ToggleStyle}"/>
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="Dual Mon" Margin="6,0,0,0"/>
                                </StackPanel>
                                <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" Margin="0,3"
                                            ToolTip="Launch automatically when Windows starts">
                                    <CheckBox x:Name="ChkWinStart" Style="{StaticResource ToggleStyle}"/>
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="Win Start" Margin="6,0,0,0"/>
                                </StackPanel>
                                
                                <StackPanel Grid.Row="1" Grid.Column="0" Orientation="Horizontal" Margin="0,3"
                                            ToolTip="Play a mandatory video when app opens">
                                    <CheckBox x:Name="ChkVidLaunch" Style="{StaticResource ToggleStyle}"/>
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="Vid Launch" Margin="6,0,0,0"/>
                                </StackPanel>
                                <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal" Margin="0,3"
                                            ToolTip="Start the engine automatically on launch">
                                    <CheckBox x:Name="ChkAutoRun" Style="{StaticResource ToggleStyle}"/>
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="Auto Run" Margin="6,0,0,0"/>
                                </StackPanel>
                                
                                <StackPanel Grid.Row="2" Grid.Column="0" Orientation="Horizontal" Margin="0,3"
                                            ToolTip="Start minimized to system tray">
                                    <CheckBox x:Name="ChkStartHidden" Style="{StaticResource ToggleStyle}"/>
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="Start Hidden" Margin="6,0,0,0"/>
                                </StackPanel>
                                <StackPanel Grid.Row="2" Grid.Column="1" Orientation="Horizontal" Margin="0,3"
                                            ToolTip="âš  DANGER: Completely disables panic key!&#x0a;You won't be able to emergency stop.&#x0a;Use with extreme caution.">
                                    <CheckBox x:Name="ChkNoPanic" Style="{StaticResource ToggleStyle}" Checked="ChkNoPanic_Checked"/>
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="âš  No Panic" Margin="6,0,0,0" Foreground="#FF6B6B"/>
                                </StackPanel>
                            </Grid>
                            
                            <!-- Gaming Tip + Panic Key -->
                            <Grid Margin="0,8,0,0">
                                <TextBlock Text="ðŸ’¡ Use Borderless Windowed for overlays" Foreground="#808090" FontSize="10" VerticalAlignment="Center"
                                           ToolTip="Exclusive fullscreen games block overlays.&#x0a;Use Borderless Windowed mode instead."/>
                                <Button x:Name="BtnPanicKey" Content="ðŸ”‘ Escape" Style="{StaticResource OutlineButton}" 
                                        HorizontalAlignment="Right" Padding="10,4" Click="BtnPanicKey_Click"
                                        ToolTip="Click to change panic key.&#x0a;Press once to stop, twice to exit."/>
                            </Grid>
                        </StackPanel>
                    </Border>
                    
                    <!-- Save / Exit Buttons - Detached -->
                    <Grid Margin="0,8,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Button Grid.Column="0" Content="ðŸ’¾ Save" Style="{StaticResource PinkButton}" 
                                Margin="0,0,5,0" Height="50" FontSize="16" Click="BtnSave_Click"
                                ToolTip="Save all settings to disk"/>
                        <Button Grid.Column="1" Content="ðŸšª Exit" Background="#FF6B6B" Foreground="White"
                                FontWeight="Bold" Height="50" FontSize="16" Margin="5,0,0,0" Click="BtnExit_Click"
                                ToolTip="Exit the application completely">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border Background="{TemplateBinding Background}" CornerRadius="6" Padding="20,10">
                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Border>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Button.Style>
                        </Button>
                    </Grid>
                </StackPanel>
            </ScrollViewer>

            <!-- Banner - spans left and middle columns at bottom -->
            <Border Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="1" 
                    Background="{StaticResource PanelBgBrush}" CornerRadius="8" 
                    Padding="12,20" Margin="5,2,5,4">
                <TextBlock Text="âœ¨ Good girls condition daily âœ¨" 
                           Foreground="{StaticResource PinkBrush}" 
                           FontSize="14" FontStyle="Italic"
                           HorizontalAlignment="Center" VerticalAlignment="Center"/>
            </Border>

            <!-- RIGHT COLUMN -->
            <Grid Grid.Column="2" Grid.RowSpan="2" Margin="5">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- Browser Section -->
                <Border Grid.Row="0" Style="{StaticResource SectionPanel}" Margin="0,0,0,5">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        <!-- Browser Header -->
                        <Grid Grid.Row="0" Margin="0,0,0,8">
                            <TextBlock Style="{StaticResource SectionHeader}" Text="ðŸŒ Browser" Margin="0"/>
                            <TextBlock x:Name="TxtBrowserStatus" Text="â— Loading..." 
                                       Foreground="{StaticResource PinkBrush}" FontSize="11"
                                       HorizontalAlignment="Right" VerticalAlignment="Center"/>
                        </Grid>
                        
                        <!-- Browser Container -->
                        <Border Grid.Row="1" Background="#1E1E3A" CornerRadius="6" ClipToBounds="True" MinHeight="300">
                            <Grid x:Name="BrowserContainer">
                                <!-- WebView2 will be added here programmatically -->
                                <TextBlock x:Name="BrowserLoadingText" 
                                           Text="ðŸŒ Connecting to Bambi Cloud..." 
                                           Foreground="#808080" FontSize="12"
                                           HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Grid>
                        </Border>
                    </Grid>
                </Border>
                
                <!-- Audio Section -->
                <Border Grid.Row="1" Style="{StaticResource SectionPanel}" Margin="0,5,0,0">
                    <StackPanel>
                        <TextBlock Style="{StaticResource SectionHeader}" Text="ðŸ“Š Audio"
                                   ToolTip="Audio volume and ducking settings"/>
                        
                        <!-- Master Volume -->
                        <Grid Margin="0,5,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="40"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Style="{StaticResource SettingLabel}" Text="Master"
                                       ToolTip="Master volume for all audio"/>
                            <Slider Grid.Column="1" x:Name="SliderMaster" Minimum="0" Maximum="100" Value="50" 
                                    Margin="10,0" ValueChanged="SliderMaster_Changed"
                                    ToolTip="Overall audio volume level"/>
                            <TextBlock x:Name="TxtMaster" Grid.Column="2" Style="{StaticResource ValueLabel}" Text="50%"/>
                        </Grid>
                        
                        <!-- Audio Duck -->
                        <Grid Margin="0,10,0,5">
                            <TextBlock Style="{StaticResource SettingLabel}" Text="Audio Duck"
                                       ToolTip="Lower system volume during video playback"/>
                            <CheckBox x:Name="ChkAudioDuck" Style="{StaticResource ToggleStyle}" 
                                      HorizontalAlignment="Right" IsChecked="True"
                                      ToolTip="Automatically reduce other app volumes during videos"/>
                        </Grid>
                        
                        <!-- Duck % -->
                        <Grid Margin="0,5,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="40"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Style="{StaticResource SettingLabel}" Text="Duck %"
                                       ToolTip="How much to reduce other audio"/>
                            <Slider Grid.Column="1" x:Name="SliderDuck" Minimum="0" Maximum="100" Value="80" 
                                    Margin="10,0" ValueChanged="SliderDuck_Changed"
                                    ToolTip="Ducking percentage (80% = reduce other audio to 20%)"/>
                            <TextBlock x:Name="TxtDuck" Grid.Column="2" Style="{StaticResource ValueLabel}" Text="80%"/>
                        </Grid>
                    </StackPanel>
                </Border>
            </Grid>
        </Grid>

        <!-- Presets Tab (Hidden by default) -->
        <Grid x:Name="PresetsTab" Grid.Row="3" Margin="10,5,10,10" Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <!-- Main Content -->
            <Grid Grid.Row="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="280"/>
                </Grid.ColumnDefinitions>
                
                <!-- Left Side: Presets and Sessions -->
                <Grid Grid.Column="0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Top Section: Preset Cards Row -->
                    <Border Grid.Row="0" Style="{StaticResource SectionPanel}" Margin="5,5,5,0" Padding="10">
                        <StackPanel>
                            <TextBlock Style="{StaticResource SectionHeader}" Text="ðŸ“‹ Presets" Margin="0,0,0,8"/>
                            
                            <!-- Horizontal Scrolling Preset Cards -->
                            <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled">
                                <StackPanel Orientation="Horizontal">
                                    <!-- Preset Cards Container -->
                                    <StackPanel x:Name="PresetCardsPanel" Orientation="Horizontal">
                                        <!-- Preset cards will be generated here dynamically -->
                                </StackPanel>
                                
                                <!-- Fixed "New Preset" Card -->
                                <Border Background="#2A2A4A" CornerRadius="6" Padding="8" Margin="4,0,0,0" 
                                        Width="100" Height="70" Cursor="Hand"
                                        MouseLeftButtonUp="BtnNewPreset_Click"
                                        ToolTip="Create a new preset from current settings">
                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <Setter Property="BorderBrush" Value="#404060"/>
                                            <Setter Property="BorderThickness" Value="2"/>
                                            <Style.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="BorderBrush" Value="{StaticResource PinkBrush}"/>
                                                    <Setter Property="Background" Value="#353550"/>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                    <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                                        <TextBlock Text="âž•" FontSize="20" HorizontalAlignment="Center" Foreground="{StaticResource PinkBrush}"/>
                                        <TextBlock Text="New" FontSize="10" FontWeight="Bold" 
                                                   Foreground="{StaticResource PinkBrush}" HorizontalAlignment="Center" Margin="0,2,0,0"/>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </ScrollViewer>
                    </StackPanel>
                </Border>

                <!-- Bottom Section: Sessions (Coming Soon) -->
                <Border Grid.Row="1" Style="{StaticResource SectionPanel}" Margin="5,8,5,5" Padding="10">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        <Grid Grid.Row="0" Margin="0,0,0,10">
                            <TextBlock Style="{StaticResource SectionHeader}" Text="ðŸŽ¯ Sessions"/>
                        </Grid>
                        
                        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                            <StackPanel x:Name="SessionsPanel">
                                <!-- Morning Drift - Available -->
                                <Border Background="#2A2A4A" CornerRadius="6" Padding="12,10" Margin="0,0,0,6"
                                        Cursor="Hand" x:Name="SessionMorningDrift" MouseLeftButtonUp="SessionCard_Click" Tag="morning_drift">
                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <Setter Property="BorderBrush" Value="#404060"/>
                                            <Setter Property="BorderThickness" Value="2"/>
                                            <Style.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="BorderBrush" Value="{StaticResource PinkBrush}"/>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                    <Grid>
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="ðŸŒ… Morning Drift" Foreground="White" FontWeight="SemiBold" FontSize="13"/>
                                                <Border Background="{StaticResource PinkBrush}" CornerRadius="3" Padding="6,2" Margin="10,0,0,0">
                                                    <TextBlock Text="30 MIN" Foreground="White" FontSize="9" FontWeight="Bold"/>
                                                </Border>
                                                <Border Background="#2A4A2A" CornerRadius="3" Padding="6,2" Margin="6,0,0,0">
                                                    <TextBlock Text="{Binding BonusXP, StringFormat='â­ +{0} XP'}" Foreground="#90EE90" FontSize="9" FontWeight="Bold"/>
                                                </Border>
                                            </StackPanel>
                                            <TextBlock Text="Gentle passive conditioning for your morning routine" 
                                                       Foreground="#A0A0A0" FontSize="11" Margin="0,4,0,0"/>
                                        </StackPanel>
                                                                            </Grid>
                                </Border>
                                
                                <!-- Gamer Girl - Available -->
                                <Border Background="#2A2A4A" CornerRadius="6" Padding="12,10" Margin="0,0,0,6"
                                        Cursor="Hand" x:Name="SessionGamerGirl" MouseLeftButtonUp="SessionCard_Click" Tag="gamer_girl">
                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <Setter Property="BorderBrush" Value="#404060"/>
                                            <Setter Property="BorderThickness" Value="2"/>
                                            <Style.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="BorderBrush" Value="{StaticResource PinkBrush}"/>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                    <Grid>
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="ðŸŽ® Gamer Girl" Foreground="White" FontWeight="SemiBold" FontSize="13"/>
                                                <Border Background="{StaticResource PinkBrush}" CornerRadius="3" Padding="6,2" Margin="10,0,0,0">
                                                    <TextBlock Text="45 MIN" Foreground="White" FontSize="9" FontWeight="Bold"/>
                                                </Border>
                                                <Border Background="#3A3A2A" CornerRadius="3" Padding="6,2" Margin="6,0,0,0">
                                                    <TextBlock Text="{Binding BonusXP, StringFormat='â­â­ +{0} XP'}" Foreground="#FFD700" FontSize="9" FontWeight="Bold"/>
                                                </Border>
                                            </StackPanel>
                                            <TextBlock Text="Background conditioning while you game" 
                                                       Foreground="#A0A0A0" FontSize="11" Margin="0,4,0,0"/>
                                        </StackPanel>
                                                                            </Grid>
                                </Border>
                                
                                <!-- The Distant Doll - Available -->
                                <Border Background="#2A2A4A" CornerRadius="6" Padding="12,10" Margin="0,0,0,6"
                                        Cursor="Hand" x:Name="SessionDistantDoll" MouseLeftButtonUp="SessionCard_Click" Tag="distant_doll">
                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <Setter Property="BorderBrush" Value="#404060"/>
                                            <Setter Property="BorderThickness" Value="2"/>
                                            <Style.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="BorderBrush" Value="{StaticResource PinkBrush}"/>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                    <Grid>
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="ðŸ›‹ï¸ The Distant Doll" Foreground="White" FontWeight="SemiBold" FontSize="13"/>
                                                <Border Background="{StaticResource PinkBrush}" CornerRadius="3" Padding="6,2" Margin="10,0,0,0">
                                                    <TextBlock Text="45 MIN" Foreground="White" FontSize="9" FontWeight="Bold"/>
                                                </Border>
                                                <Border Background="#2A4A2A" CornerRadius="3" Padding="6,2" Margin="6,0,0,0">
                                                    <TextBlock Text="{Binding BonusXP, StringFormat='â­ +{0} XP'}" Foreground="#90EE90" FontSize="9" FontWeight="Bold"/>
                                                </Border>
                                            </StackPanel>
                                            <TextBlock Text="Passive couch session - no audio ducking" 
                                                       Foreground="#A0A0A0" FontSize="11" Margin="0,4,0,0"/>
                                        </StackPanel>
                                                                            </Grid>
                                </Border>
                                
                                <!-- Good Girls Don't Cum - Available -->
                                <Border Background="#2A2A4A" CornerRadius="6" Padding="12,10" Margin="0,0,0,6"
                                        Cursor="Hand" x:Name="SessionGoodGirls" MouseLeftButtonUp="SessionCard_Click" Tag="good_girls_dont_cum">
                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <Setter Property="BorderBrush" Value="#404060"/>
                                            <Setter Property="BorderThickness" Value="2"/>
                                            <Style.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="BorderBrush" Value="{StaticResource PinkBrush}"/>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                    <Grid>
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="ðŸ”’ Good Girls Don't Cum" Foreground="White" FontWeight="SemiBold" FontSize="13"/>
                                                <Border Background="{StaticResource PinkBrush}" CornerRadius="3" Padding="6,2" Margin="10,0,0,0">
                                                    <TextBlock Text="60 MIN" Foreground="White" FontSize="9" FontWeight="Bold"/>
                                                </Border>
                                                <Border Background="#4A3A2A" CornerRadius="3" Padding="6,2" Margin="6,0,0,0">
                                                    <TextBlock Text="{Binding BonusXP, StringFormat='â­â­â­ +{0} XP'}" Foreground="#FFA500" FontSize="9" FontWeight="Bold"/>
                                                </Border>
                                            </StackPanel>
                                            <TextBlock Text="Denial session - heavy pink fog conditioning" 
                                                       Foreground="#A0A0A0" FontSize="11" Margin="0,4,0,0"/>
                                        </StackPanel>
                                                                            </Grid>
                                </Border>
                                
                                <!-- Coming Soon Sessions -->
                                <TextBlock Text="More sessions coming soon:" Foreground="#707090" 
                                           FontSize="11" Margin="0,14,0,8"/>
                                
                                <Border Background="#252540" CornerRadius="6" Padding="12,10" Margin="0,0,0,5" Opacity="0.5"
                                        Cursor="Hand" x:Name="SessionDeepDive" MouseLeftButtonUp="SessionCard_Click" Tag="deep_dive">
                                    <Grid>
                                        <StackPanel>
                                            <TextBlock Text="ðŸŒ™ Deep Dive" Foreground="#808080" FontWeight="SemiBold" FontSize="12"/>
                                            <TextBlock Text="60 minute immersive experience" 
                                                       Foreground="#606070" FontSize="10" Margin="0,2,0,0"/>
                                        </StackPanel>
                                        <TextBlock Text="ðŸ”’" HorizontalAlignment="Right" VerticalAlignment="Center" 
                                                   Foreground="#505060" FontSize="16"/>
                                    </Grid>
                                </Border>
                                
                                <Border Background="#252540" CornerRadius="6" Padding="12,10" Margin="0,0,0,5" Opacity="0.5"
                                        Cursor="Hand" x:Name="SessionBambiTime" MouseLeftButtonUp="SessionCard_Click" Tag="bambi_time">
                                    <Grid>
                                        <StackPanel>
                                            <TextBlock Text="ðŸ’— Bambi Time" Foreground="#808080" FontWeight="SemiBold" FontSize="12"/>
                                            <TextBlock Text="Full surrender experience" 
                                                       Foreground="#606070" FontSize="10" Margin="0,2,0,0"/>
                                        </StackPanel>
                                        <TextBlock Text="ðŸ”’" HorizontalAlignment="Right" VerticalAlignment="Center" 
                                                   Foreground="#505060" FontSize="16"/>
                                    </Grid>
                                </Border>
                                
                                <Border Background="#252540" CornerRadius="6" Padding="12,10" Margin="0,0,0,5" Opacity="0.5"
                                        Cursor="Hand" x:Name="SessionRandomDrop" MouseLeftButtonUp="SessionCard_Click" Tag="random_drop">
                                    <Grid>
                                        <StackPanel>
                                            <TextBlock Text="ðŸŽ² Random Drop" Foreground="#808080" FontWeight="SemiBold" FontSize="12"/>
                                            <TextBlock Text="Surprise settings, let go of control" 
                                                       Foreground="#606070" FontSize="10" Margin="0,2,0,0"/>
                                        </StackPanel>
                                        <TextBlock Text="ðŸ”’" HorizontalAlignment="Right" VerticalAlignment="Center" 
                                                   Foreground="#505060" FontSize="16"/>
                                    </Grid>
                                </Border>
                                
                                <Border Background="#252540" CornerRadius="6" Padding="12,10" Margin="0,0,0,5" Opacity="0.5"
                                        Cursor="Hand" x:Name="SessionEdgeWalk" MouseLeftButtonUp="SessionCard_Click" Tag="edge_walk">
                                    <Grid>
                                        <StackPanel>
                                            <TextBlock Text="ðŸ“ˆ Edge Walk" Foreground="#808080" FontWeight="SemiBold" FontSize="12"/>
                                            <TextBlock Text="Progressive intensity climb" 
                                                       Foreground="#606070" FontSize="10" Margin="0,2,0,0"/>
                                        </StackPanel>
                                        <TextBlock Text="ðŸ”’" HorizontalAlignment="Right" VerticalAlignment="Center" 
                                                   Foreground="#505060" FontSize="16"/>
                                    </Grid>
                                </Border>
                            </StackPanel>
                        </ScrollViewer>
                    </Grid>
                </Border>
            </Grid>
            
            <!-- Right Side: Details Panel -->
            <Border Grid.Column="1" Style="{StaticResource SectionPanel}" Margin="5">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Header -->
                    <StackPanel Grid.Row="0" Margin="0,0,0,12">
                        <TextBlock x:Name="TxtDetailTitle" Text="Select a Preset" 
                                   Foreground="{StaticResource PinkBrush}" FontSize="18" FontWeight="Bold"/>
                        <TextBlock x:Name="TxtDetailSubtitle" Text="Click on a preset or session to see details" 
                                   Foreground="#909090" FontSize="12" TextWrapping="Wrap" Margin="0,5,0,0"/>
                    </StackPanel>
                    
                    <!-- Details Content - Preset View -->
                    <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" x:Name="PresetDetailScroller">
                        <StackPanel x:Name="DetailContentPanel">
                            <!-- Preset details will show here -->
                            <TextBlock Text="âš¡ Flash Images" Foreground="White" FontWeight="SemiBold" FontSize="13" Margin="0,0,0,4"/>
                            <TextBlock x:Name="TxtDetailFlash" Text="â€”" Foreground="#909090" FontSize="11" Margin="0,0,0,12"/>
                            
                            <TextBlock Text="ðŸŽ¬ Mandatory Videos" Foreground="White" FontWeight="SemiBold" FontSize="13" Margin="0,0,0,4"/>
                            <TextBlock x:Name="TxtDetailVideo" Text="â€”" Foreground="#909090" FontSize="11" Margin="0,0,0,12"/>
                            
                            <TextBlock Text="ðŸ’­ Subliminals" Foreground="White" FontWeight="SemiBold" FontSize="13" Margin="0,0,0,4"/>
                            <TextBlock x:Name="TxtDetailSubliminal" Text="â€”" Foreground="#909090" FontSize="11" Margin="0,0,0,12"/>
                            
                            <TextBlock Text="ðŸ“Š Audio" Foreground="White" FontWeight="SemiBold" FontSize="13" Margin="0,0,0,4"/>
                            <TextBlock x:Name="TxtDetailAudio" Text="â€”" Foreground="#909090" FontSize="11" Margin="0,0,0,12"/>
                            
                            <TextBlock Text="ðŸŒ€ Overlays" Foreground="White" FontWeight="SemiBold" FontSize="13" Margin="0,0,0,4"/>
                            <TextBlock x:Name="TxtDetailOverlays" Text="â€”" Foreground="#909090" FontSize="11" Margin="0,0,0,12"/>
                            
                            <TextBlock Text="ðŸ“ Advanced" Foreground="White" FontWeight="SemiBold" FontSize="13" Margin="0,0,0,4"/>
                            <TextBlock x:Name="TxtDetailAdvanced" Text="â€”" Foreground="#909090" FontSize="11" Margin="0,0,0,12"/>
                        </StackPanel>
                    </ScrollViewer>
                    
                    <!-- Details Content - Session View (Spoiler-Free) -->
                    <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" x:Name="SessionDetailScroller" Visibility="Collapsed">
                        <StackPanel x:Name="SessionDetailPanel">
                            <!-- Session Duration & Difficulty -->
                            <Border Background="#1E1E3A" CornerRadius="8" Padding="12" Margin="0,0,0,12">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                                        <TextBlock Text="â± Duration" Foreground="#808090" FontSize="10" HorizontalAlignment="Center"/>
                                        <TextBlock x:Name="TxtSessionDuration" Text="30 minutes" Foreground="White" 
                                                   FontSize="14" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,2,0,0"/>
                                    </StackPanel>
                                    <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                                        <TextBlock Text="ðŸ† Reward" Foreground="#808090" FontSize="10" HorizontalAlignment="Center"/>
                                        <TextBlock x:Name="TxtSessionXP" Text="+50 XP" Foreground="#90EE90" 
                                                   FontSize="14" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,2,0,0"/>
                                    </StackPanel>
                                </Grid>
                            </Border>
                            
                            <!-- Difficulty Badge -->
                            <Border x:Name="DifficultyBadge" Background="#2A2A4A" CornerRadius="6" Padding="8,4" 
                                    Margin="0,0,0,12" HorizontalAlignment="Center">
                                <TextBlock x:Name="TxtSessionDifficulty" Text="â­Â Easy" Foreground="#FFD700" 
                                           FontSize="12" FontWeight="Bold"/>
                            </Border>
                            
                            <!-- Spoiler-Free Description -->
                            <TextBlock x:Name="TxtSessionDescription" TextWrapping="Wrap" Foreground="#C0C0C0" FontSize="12" 
                                       LineHeight="20" Margin="0,0,0,16"
                                       Text="Let the morning carry you away..."/>
                            
                            <!-- Corner GIF Option (shown for Gamer Girl session) -->
                            <Border x:Name="CornerGifOptionPanel" Background="#252540" CornerRadius="6" Padding="10" 
                                    Margin="0,0,0,12" Visibility="Collapsed">
                                <StackPanel>
                                    <Grid>
                                        <TextBlock Text="ðŸ–¼ Corner GIF" Foreground="{StaticResource PinkBrush}" 
                                                   FontWeight="Bold" FontSize="11"/>
                                        <CheckBox x:Name="ChkCornerGifEnabled" Style="{StaticResource ToggleStyle}" 
                                                  HorizontalAlignment="Right" Checked="ChkCornerGifEnabled_Changed" 
                                                  Unchecked="ChkCornerGifEnabled_Changed"/>
                                    </Grid>
                                    <TextBlock x:Name="TxtCornerGifDesc" Text="Place a subtle GIF in a screen corner" 
                                               Foreground="#808090" FontSize="10" Margin="0,4,0,0" TextWrapping="Wrap"/>
                                    
                                    <StackPanel x:Name="CornerGifSettings" Visibility="Collapsed" Margin="0,8,0,0">
                                        <Button x:Name="BtnSelectCornerGif" Content="ðŸ“ Select GIF" 
                                                Style="{StaticResource OutlineButton}" Padding="8,6" FontSize="10"
                                                Margin="0,0,0,8" Click="BtnSelectCornerGif_Click"/>
                                        <TextBlock Text="Position:" Foreground="#909090" FontSize="10" Margin="0,0,0,4"/>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>
                                            <RadioButton x:Name="RbCornerTL" Content="â†– Top-Left" Foreground="White" 
                                                         GroupName="CornerPos" Margin="0,2" FontSize="10"/>
                                            <RadioButton x:Name="RbCornerTR" Grid.Column="1" Content="â†— Top-Right" 
                                                         Foreground="White" GroupName="CornerPos" Margin="0,2" FontSize="10"/>
                                            <RadioButton x:Name="RbCornerBL" Grid.Row="1" Content="â†™ Bottom-Left" 
                                                         Foreground="White" GroupName="CornerPos" Margin="0,2" FontSize="10" IsChecked="True"/>
                                            <RadioButton x:Name="RbCornerBR" Grid.Row="1" Grid.Column="1" Content="â†˜ Bottom-Right" 
                                                         Foreground="White" GroupName="CornerPos" Margin="0,2" FontSize="10"/>
                                        </Grid>
                                    </StackPanel>
                                </StackPanel>
                            </Border>
                            
                            <!-- Spoiler Warning -->
                            <Border Background="#2A2040" CornerRadius="8" Padding="12" Margin="0,0,0,12">
                                <StackPanel>
                                    <TextBlock Text="ðŸŽ Mystery Experience" Foreground="{StaticResource PinkBrush}" 
                                               FontWeight="Bold" FontSize="13" HorizontalAlignment="Center"/>
                                    <TextBlock Text="The magic works best when you don't know what's coming..." 
                                               Foreground="#808090" FontSize="11" TextAlignment="Center" 
                                               Margin="0,6,0,0" FontStyle="Italic"/>
                                </StackPanel>
                            </Border>
                            
                            <!-- Reveal Spoilers Button -->
                            <Button x:Name="BtnRevealSpoilers" Content="ðŸ‘ Reveal Details" 
                                    Style="{StaticResource OutlineButton}" Padding="12,8" FontSize="12"
                                    Click="BtnRevealSpoilers_Click" Margin="0,0,0,12"
                                    ToolTip="âš  This will show all session settings - spoils the surprise!"/>
                            
                            <!-- Spoiler Content (Hidden by default) -->
                            <StackPanel x:Name="SessionSpoilerPanel" Visibility="Collapsed">
                                <Border Background="#301520" CornerRadius="6" Padding="10" Margin="0,0,0,12">
                                    <TextBlock Text="âš  SPOILERS BELOW âš " Foreground="#FF6B6B" FontSize="12" 
                                               FontWeight="Bold" HorizontalAlignment="Center"/>
                                </Border>
                                
                                <TextBlock Text="âš¡ Flash Images" Foreground="White" FontWeight="SemiBold" FontSize="12" Margin="0,0,0,3"/>
                                <TextBlock x:Name="TxtSessionFlash" Text="â€”" Foreground="#909090" FontSize="11" Margin="0,0,0,10" TextWrapping="Wrap"/>
                                
                                <TextBlock Text="ðŸ’­ Subliminals" Foreground="White" FontWeight="SemiBold" FontSize="12" Margin="0,0,0,3"/>
                                <TextBlock x:Name="TxtSessionSubliminal" Text="â€”" Foreground="#909090" FontSize="11" Margin="0,0,0,10"/>
                                
                                <TextBlock Text="ðŸ“Š Audio" Foreground="White" FontWeight="SemiBold" FontSize="12" Margin="0,0,0,3"/>
                                <TextBlock x:Name="TxtSessionAudio" Text="â€”" Foreground="#909090" FontSize="11" Margin="0,0,0,10"/>
                                
                                <TextBlock Text="ðŸŒ€ Overlays" Foreground="White" FontWeight="SemiBold" FontSize="12" Margin="0,0,0,3"/>
                                <TextBlock x:Name="TxtSessionOverlays" Text="â€”" Foreground="#909090" FontSize="11" Margin="0,0,0,10" TextWrapping="Wrap"/>
                                
                                <TextBlock Text="ðŸ“º Extras" Foreground="White" FontWeight="SemiBold" FontSize="12" Margin="0,0,0,3"/>
                                <TextBlock x:Name="TxtSessionExtras" Text="â€”" Foreground="#909090" FontSize="11" Margin="0,0,0,10" TextWrapping="Wrap"/>
                                
                                <TextBlock Text="â± Timeline" Foreground="White" FontWeight="SemiBold" FontSize="12" Margin="0,0,0,3"/>
                                <TextBlock x:Name="TxtSessionTimeline" Text="â€”" Foreground="#909090" FontSize="11" Margin="0,0,0,10" TextWrapping="Wrap"/>
                            </StackPanel>
                        </StackPanel>
                    </ScrollViewer>
                    
                    <!-- Preset Action Buttons -->
                    <StackPanel Grid.Row="2" x:Name="PresetButtonsPanel" Margin="0,10,0,0">
                        <Button x:Name="BtnLoadPreset" Content="ðŸ“¥ Load Preset" Style="{StaticResource PinkButton}"
                                Margin="0,0,0,6" Padding="12,10" FontSize="13" Click="BtnLoadPreset_Click" IsEnabled="False"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Button x:Name="BtnSaveOverPreset" Grid.Column="0" Content="ðŸ’¾ Save" 
                                    Style="{StaticResource OutlineButton}" Margin="0,0,3,0" Padding="10,8"
                                    Click="BtnSaveOverPreset_Click" IsEnabled="False" FontSize="12"/>
                            <Button x:Name="BtnDeletePreset" Grid.Column="1" Content="ðŸ—‘ Delete" 
                                    Style="{StaticResource OutlineButton}" Margin="3,0,0,0" Padding="10,8"
                                    Click="BtnDeletePreset_Click" IsEnabled="False" FontSize="12"/>
                        </Grid>
                    </StackPanel>
                    
                    <!-- Session Action Buttons -->
                    <StackPanel Grid.Row="2" x:Name="SessionButtonsPanel" Margin="0,10,0,0" Visibility="Collapsed">
                        <Button x:Name="BtnStartSession" Content="â–¶ Start Session" Style="{StaticResource PinkButton}"
                                Padding="12,12" FontSize="14" Click="BtnStartSession_Click"/>
                    </StackPanel>
                </Grid>
            </Border>
            </Grid>
            
            <!-- Bottom Bar: Start/Save/Exit Buttons -->
            <Border Grid.Row="1" Style="{StaticResource SectionPanel}" Margin="5,8,5,0" Padding="15,12">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- Status text on left -->
                    <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock x:Name="TxtPresetsStatus" Text="Ready to start" Foreground="#808090" FontSize="12"/>
                    </StackPanel>
                    
                    <!-- Buttons on right -->
                    <Button x:Name="BtnPresetsStart" Grid.Column="1" Content="â–¶ Start" Style="{StaticResource PinkButton}"
                            Padding="20,10" FontSize="13" Margin="0,0,10,0"
                            Click="BtnStart_Click" ToolTip="Start the conditioning engine"/>
                    <Button Grid.Column="2" Content="ðŸ’¾ Save" Style="{StaticResource OutlineButton}"
                            Padding="16,10" FontSize="13" Margin="0,0,10,0"
                            Click="BtnSave_Click" ToolTip="Save current settings"/>
                    <Button Grid.Column="3" Content="ðŸšª Exit" Style="{StaticResource OutlineButton}"
                            Padding="16,10" FontSize="13"
                            Click="BtnExit_Click" ToolTip="Exit the application"/>
                </Grid>
            </Border>
        </Grid>

        <!-- Progression Tab (Hidden by default) -->
        <Grid x:Name="ProgressionTab" Grid.Row="3" Margin="10,5,10,10" Visibility="Collapsed">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="280"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Unlockables -->
            <Border Grid.Column="0" Grid.Row="0" Style="{StaticResource SectionPanel}" Margin="5"
                    ToolTip="Features that unlock as you level up.&#x0a;Keep conditioning to earn XP and unlock new features!">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <TextBlock Style="{StaticResource SectionHeader}" Text="ðŸŽ Unlockables"
                               ToolTip="Level-gated features - higher levels unlock more!"/>
                    
                    <!-- Spiral Overlay - Lvl 10 -->
                    <Border Background="#1E1E3A" CornerRadius="8" Padding="12" Margin="0,5"
                            ToolTip="Hypnotic spiral animation overlay.&#x0a;Covers all screens with customizable opacity.&#x0a;Unlocks at Level 10.">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <Grid Grid.Column="0">
                            <!-- Locked State -->
                            <StackPanel x:Name="SpiralLocked" Visibility="Visible">
                                <Grid>
                                    <TextBlock Text="ðŸŒ€ Spiral Overlay" Foreground="#666666" FontWeight="Bold" FontSize="14"/>
                                    <TextBlock Text="ðŸ”’ Lvl 10" Foreground="#666666" HorizontalAlignment="Right" FontSize="13"/>
                                </Grid>
                                <TextBlock Text="Reach Level 10 to Unlock" Foreground="{StaticResource PinkBrush}" 
                                           FontSize="12" Margin="0,8,0,0"/>
                            </StackPanel>
                            
                            <!-- Unlocked State -->
                            <StackPanel x:Name="SpiralUnlocked" Visibility="Collapsed">
                                <Grid>
                                    <TextBlock Text="ðŸŒ€ Spiral Overlay" Foreground="White" FontWeight="Bold" FontSize="14"/>
                                    <TextBlock Text="âœ” Unlocked" Foreground="#00E676" HorizontalAlignment="Right" FontSize="13"/>
                                </Grid>
                                <Grid Margin="0,8,0,0">
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="Enable"
                                               ToolTip="Enable/disable spiral overlay on all monitors"/>
                                    <CheckBox x:Name="ChkSpiralEnabled" Style="{StaticResource ToggleStyle}" 
                                              HorizontalAlignment="Right"
                                              Checked="ChkSpiralEnabled_Changed" Unchecked="ChkSpiralEnabled_Changed"
                                              ToolTip="Show hypnotic spiral overlay"/>
                                </Grid>
                                <Grid Margin="0,8,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="60"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="40"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="Opacity"
                                               ToolTip="Spiral transparency level"/>
                                    <Slider Grid.Column="1" x:Name="SliderSpiralOpacity" Minimum="5" Maximum="50" Value="15" 
                                            Margin="10,0" ValueChanged="SliderSpiralOpacity_Changed"
                                            ToolTip="Spiral opacity (5% - 50%)"/>
                                    <TextBlock x:Name="TxtSpiralOpacity" Grid.Column="2" Style="{StaticResource ValueLabel}" Text="15%"/>
                                </Grid>
                                <Button Content="ðŸ“ Select GIF" Style="{StaticResource OutlineButton}" 
                                        Margin="0,10,0,0" Click="BtnSelectSpiral_Click"
                                        ToolTip="Choose a spiral GIF animation"/>
                            </StackPanel>
                            </Grid>
                            
                            <!-- Feature Image -->
                            <Border x:Name="SpiralFeatureImage" Grid.Column="1" Style="{StaticResource FeatureImageBorder}">
                                <Image Source="pack://application:,,,/Resources/features/spiral overlay.png" Stretch="Uniform"/>
                            </Border>
                        </Grid>
                    </Border>

                    <!-- Pink Filter - Lvl 10 -->
                    <Border Background="#1E1E3A" CornerRadius="8" Padding="12" Margin="0,5"
                            ToolTip="Pink color tint overlay for all screens.&#x0a;Subtle or intense, you choose!&#x0a;Unlocks at Level 10.">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <Grid Grid.Column="0">
                            <!-- Locked State -->
                            <StackPanel x:Name="PinkFilterLocked" Visibility="Visible">
                                <Grid>
                                    <TextBlock Text="ðŸ’— Pink Filter" Foreground="#666666" FontWeight="Bold" FontSize="14"/>
                                    <TextBlock Text="ðŸ”’ Lvl 10" Foreground="#666666" HorizontalAlignment="Right" FontSize="13"/>
                                </Grid>
                                <TextBlock Text="Reach Level 10 to Unlock" Foreground="{StaticResource PinkBrush}" 
                                           FontSize="12" Margin="0,8,0,0"/>
                            </StackPanel>
                            
                            <!-- Unlocked State -->
                            <StackPanel x:Name="PinkFilterUnlocked" Visibility="Collapsed">
                                <Grid>
                                    <TextBlock Text="ðŸ’— Pink Filter" Foreground="White" FontWeight="Bold" FontSize="14"/>
                                    <TextBlock Text="âœ” Unlocked" Foreground="#00E676" HorizontalAlignment="Right" FontSize="13"/>
                                </Grid>
                                <Grid Margin="0,8,0,0">
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="Enable"
                                               ToolTip="Enable/disable pink tint overlay"/>
                                    <CheckBox x:Name="ChkPinkFilterEnabled" Style="{StaticResource ToggleStyle}" 
                                              HorizontalAlignment="Right"
                                              Checked="ChkPinkFilterEnabled_Changed" Unchecked="ChkPinkFilterEnabled_Changed"
                                              ToolTip="Apply pink color filter to all monitors"/>
                                </Grid>
                                <Grid Margin="0,8,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="60"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="40"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="Opacity"
                                               ToolTip="Pink filter intensity"/>
                                    <Slider Grid.Column="1" x:Name="SliderPinkOpacity" Minimum="5" Maximum="50" Value="10" 
                                            Margin="10,0" ValueChanged="SliderPinkOpacity_Changed"
                                            ToolTip="Filter opacity (5% - 50%)"/>
                                    <TextBlock x:Name="TxtPinkOpacity" Grid.Column="2" Style="{StaticResource ValueLabel}" Text="10%"/>
                                </Grid>
                            </StackPanel>
                            </Grid>
                            
                            <!-- Feature Image -->
                            <Border x:Name="PinkFilterFeatureImage" Grid.Column="1" Style="{StaticResource FeatureImageBorder}">
                                <Image Source="pack://application:,,,/Resources/features/Pink filter.png" Stretch="Uniform"/>
                            </Border>
                        </Grid>
                    </Border>

                    <!-- Bubble Pop - Lvl 20 -->
                    <Border Background="#1E1E3A" CornerRadius="8" Padding="12" Margin="0,5"
                            ToolTip="Pop floating bubbles to earn XP!&#x0a;Fun mini-game that spawns periodically.&#x0a;Unlocks at Level 20.">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <Grid Grid.Column="0">
                            <!-- Locked State -->
                            <StackPanel x:Name="BubblesLocked" Visibility="Visible">
                                <Grid>
                                    <TextBlock Text="ðŸ«§ Bubble Pop" Foreground="#666666" FontWeight="Bold" FontSize="14"/>
                                    <TextBlock Text="ðŸ”’ Lvl 20" Foreground="#666666" HorizontalAlignment="Right" FontSize="13"/>
                                </Grid>
                                <TextBlock Text="Reach Level 20 to Unlock" Foreground="{StaticResource PinkBrush}" 
                                           FontSize="12" Margin="0,8,0,0"/>
                            </StackPanel>
                            
                            <!-- Unlocked State -->
                            <StackPanel x:Name="BubblesUnlocked" Visibility="Collapsed">
                                <Grid>
                                    <TextBlock Text="ðŸ«§ Bubble Pop" Foreground="White" FontWeight="Bold" FontSize="14"/>
                                    <TextBlock Text="âœ” Unlocked" Foreground="#00E676" HorizontalAlignment="Right" FontSize="13"/>
                                </Grid>
                                <Grid Margin="0,8,0,0">
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="Enable"
                                               ToolTip="Enable/disable bubble pop mini-game"/>
                                    <CheckBox x:Name="ChkBubblesEnabled" Style="{StaticResource ToggleStyle}" 
                                              HorizontalAlignment="Right"
                                              Checked="ChkBubblesEnabled_Changed" Unchecked="ChkBubblesEnabled_Changed"
                                              ToolTip="Pop bubbles to earn XP!"/>
                                </Grid>
                                <Grid Margin="0,8,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="60"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="40"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="Per Min"
                                               ToolTip="Bubbles spawned per minute"/>
                                    <Slider Grid.Column="1" x:Name="SliderBubbleFreq" Minimum="1" Maximum="15" Value="5" 
                                            Margin="10,0" ValueChanged="SliderBubbleFreq_Changed"
                                            ToolTip="Bubble spawn rate"/>
                                    <TextBlock x:Name="TxtBubbleFreq" Grid.Column="2" Style="{StaticResource ValueLabel}" Text="5"/>
                                </Grid>
                            </StackPanel>
                            </Grid>
                            
                            <!-- Feature Image -->
                            <Border x:Name="BubblePopFeatureImage" Grid.Column="1" Style="{StaticResource FeatureImageBorder}">
                                <Image Source="pack://application:,,,/Resources/features/Bubble pop.png" Stretch="Uniform"/>
                            </Border>
                        </Grid>
                    </Border>

                    <!-- Lock Card - Lvl 35 -->
                    <Border Background="#1E1E3A" CornerRadius="8" Padding="12" Margin="0,5"
                            ToolTip="Screen lock that requires typing phrases.&#x0a;Reinforces conditioning through repetition.&#x0a;Unlocks at Level 35.">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <Grid Grid.Column="0">
                            <!-- Locked State -->
                            <StackPanel x:Name="LockCardLocked" Visibility="Visible">
                                <Grid>
                                    <TextBlock Text="ðŸ“ Lock Card" Foreground="#666666" FontWeight="Bold"/>
                                    <TextBlock Text="ðŸ”’ Lvl 35" Foreground="#666666" HorizontalAlignment="Right" FontSize="13"/>
                                </Grid>
                                <TextBlock Text="Reach Level 35 to Unlock" Foreground="{StaticResource PinkBrush}" 
                                           FontSize="12" Margin="0,8,0,0"/>
                            </StackPanel>
                            
                            <!-- Unlocked State -->
                            <StackPanel x:Name="LockCardUnlocked" Visibility="Collapsed">
                                <Grid>
                                    <TextBlock Text="ðŸ“ Lock Card" Foreground="White" FontWeight="Bold"/>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                        <Button Content="â–¶ Test" Style="{StaticResource OutlineButton}" 
                                                Padding="10,4" FontSize="11" Margin="0,0,8,0"
                                                Click="BtnTestLockCard_Click"
                                                ToolTip="Test a lock card now"/>
                                        <TextBlock Text="âœ” Unlocked" Foreground="#00E676" VerticalAlignment="Center"/>
                                    </StackPanel>
                                </Grid>
                                <Grid Margin="0,8,0,0">
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="Enable"
                                               ToolTip="Enable/disable lock card popups"/>
                                    <CheckBox x:Name="ChkLockCardEnabled" Style="{StaticResource ToggleStyle}" 
                                              HorizontalAlignment="Right"
                                              Checked="ChkLockCardEnabled_Changed" Unchecked="ChkLockCardEnabled_Changed"
                                              ToolTip="Show lock cards that require typing to dismiss"/>
                                </Grid>
                                <Grid Margin="0,8,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="60"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="40"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="Per Hour"
                                               ToolTip="Lock cards shown per hour"/>
                                    <Slider Grid.Column="1" x:Name="SliderLockCardFreq" Minimum="1" Maximum="10" Value="2" 
                                            Margin="10,0" ValueChanged="SliderLockCardFreq_Changed"
                                            ToolTip="Lock card frequency (1-10 per hour)"/>
                                    <TextBlock x:Name="TxtLockCardFreq" Grid.Column="2" Style="{StaticResource ValueLabel}" Text="2"/>
                                </Grid>
                                <Grid Margin="0,8,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="60"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="40"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="Repeats"
                                               ToolTip="Times the phrase must be typed"/>
                                    <Slider Grid.Column="1" x:Name="SliderLockCardRepeats" Minimum="1" Maximum="10" Value="3" 
                                            Margin="10,0" ValueChanged="SliderLockCardRepeats_Changed"
                                            ToolTip="Number of times to type the phrase (1-10)"/>
                                    <TextBlock x:Name="TxtLockCardRepeats" Grid.Column="2" Style="{StaticResource ValueLabel}" Text="3x"/>
                                </Grid>
                                <Grid Margin="0,8,0,0">
                                    <TextBlock Style="{StaticResource SettingLabel}" Text="Strict Lock"
                                               ToolTip="Prevent ESC key from closing the lock card"/>
                                    <CheckBox x:Name="ChkLockCardStrict" Style="{StaticResource ToggleStyle}" 
                                              HorizontalAlignment="Right" Checked="ChkLockCardStrict_Checked"
                                              ToolTip="âš  Cannot escape - must complete typing!"/>
                                </Grid>
                                <Grid Margin="0,10,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <Button Grid.Column="0" Content="ðŸ“ Manage Phrases" Style="{StaticResource OutlineButton}" 
                                            Margin="0,0,5,0" Click="BtnManageLockCardPhrases_Click"
                                            ToolTip="Edit phrases that must be typed"/>
                                    <Button Grid.Column="1" Content="âš™" Style="{StaticResource OutlineButton}" 
                                            Width="40" Click="BtnLockCardSettings_Click"
                                            ToolTip="Customize lock card colors"/>
                                </Grid>
                            </StackPanel>
                            </Grid>
                            
                            <!-- Feature Image -->
                            <Border x:Name="LockCardFeatureImage" Grid.Column="1" Style="{StaticResource FeatureImageBorder}">
                                <Image Source="pack://application:,,,/Resources/features/Phrase Lock.png" Stretch="Uniform"/>
                            </Border>
                        </Grid>
                    </Border>

                    <!-- Bubble Count Game - Lvl 50 -->
                    <Border Background="#1E1E3A" CornerRadius="8" Padding="12" Margin="0,5"
                            ToolTip="Count the bubbles challenge!&#x0a;Memory and attention test for bonus XP.&#x0a;Unlocks at Level 50.">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <Grid Grid.Column="0">
                            <!-- Locked State -->
                            <StackPanel x:Name="Level50Locked" Visibility="Visible">
                                <Grid>
                                    <TextBlock Text="ðŸ«§ Bubble Count" Foreground="#666666" FontWeight="Bold"/>
                                    <TextBlock Text="ðŸ”’ Lvl 50" Foreground="#666666" HorizontalAlignment="Right" FontSize="13"/>
                                </Grid>
                                <TextBlock Text="Reach Level 50 to Unlock" Foreground="{StaticResource PinkBrush}" 
                                           FontSize="12" Margin="0,8,0,0"/>
                            </StackPanel>
                            
                            <!-- Unlocked State -->
                            <StackPanel x:Name="Level50Unlocked" Visibility="Collapsed">
                                <Grid>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="ðŸ«§ Bubble Count" Foreground="{StaticResource PinkBrush}" FontWeight="Bold"/>
                                        <TextBlock Text="âœ” Lvl 50" Foreground="{StaticResource PinkBrush}" Margin="8,0,0,0"/>
                                    </StackPanel>
                                    <CheckBox x:Name="ChkBubbleCountEnabled" Style="{StaticResource ToggleStyle}" 
                                              HorizontalAlignment="Right"
                                              Checked="ChkBubbleCountEnabled_Changed" Unchecked="ChkBubbleCountEnabled_Changed"/>
                                </Grid>
                                
                                <StackPanel x:Name="BubbleCountSettings" Margin="0,10,0,0">
                                    <!-- Per Hour -->
                                    <Grid Margin="0,3,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Style="{StaticResource SettingLabel}" Text="Per Hour"
                                                   ToolTip="How often the bubble count challenge appears"/>
                                        <TextBlock x:Name="TxtBubbleCountFreq" Grid.Column="1" Style="{StaticResource ValueLabel}" Text="2"/>
                                    </Grid>
                                    <Slider x:Name="SliderBubbleCountFreq" Minimum="1" Maximum="10" Value="2" 
                                            Margin="0,1" ValueChanged="SliderBubbleCountFreq_Changed"
                                            ToolTip="Challenges per hour (1-10)"/>
                                    
                                    <!-- Difficulty -->
                                    <Grid Margin="0,8,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Style="{StaticResource SettingLabel}" Text="Difficulty"/>
                                        <ComboBox x:Name="CmbBubbleCountDifficulty" Grid.Column="1" 
                                                  Width="100" Background="#1E1E3A" Foreground="White"
                                                  SelectionChanged="CmbBubbleCountDifficulty_Changed">
                                            <ComboBoxItem Content="Easy" Tag="0"/>
                                            <ComboBoxItem Content="Medium" Tag="1" IsSelected="True"/>
                                            <ComboBoxItem Content="Hard" Tag="2"/>
                                        </ComboBox>
                                    </Grid>
                                    
                                    <!-- Strict Lock -->
                                    <Grid Margin="0,8,0,0">
                                        <TextBlock Style="{StaticResource SettingLabel}" Text="Strict Lock"
                                                   ToolTip="Prevent closing until correctly answered"/>
                                        <CheckBox x:Name="ChkBubbleCountStrict" Style="{StaticResource ToggleStyle}" 
                                                  HorizontalAlignment="Right"
                                                  Checked="ChkBubbleCountStrict_Changed" Unchecked="ChkBubbleCountStrict_Changed"/>
                                    </Grid>
                                    
                                    <!-- Test Button -->
                                    <Button Content="ðŸŽ® Test Now" 
                                            Background="#40FFFFFF" Foreground="White" 
                                            BorderThickness="0" Padding="10,5" Margin="0,10,0,0"
                                            Cursor="Hand" Click="BtnTestBubbleCount_Click"
                                            ToolTip="Trigger a bubble count challenge now"/>
                                </StackPanel>
                            </StackPanel>
                            </Grid>
                            
                            <!-- Feature Image -->
                            <Border x:Name="BubbleCountFeatureImage" Grid.Column="1" Style="{StaticResource FeatureImageBorder}">
                                <Image Source="pack://application:,,,/Resources/features/Bubble count.png" Stretch="Uniform"/>
                            </Border>
                        </Grid>
                    </Border>

                    <!-- Bouncing Text - Lvl 60 -->
                    <Border Background="#1E1E3A" CornerRadius="8" Padding="12" Margin="0,5"
                            ToolTip="DVD screensaver-style bouncing text!&#x0a;Customizable phrases bounce across screen.&#x0a;Unlocks at Level 60.">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <Grid Grid.Column="0">
                            <!-- Locked State -->
                            <StackPanel x:Name="Level60Locked" Visibility="Visible">
                                <Grid>
                                    <TextBlock Text="ðŸ“º Bouncing Text" Foreground="#666666" FontWeight="Bold"/>
                                    <TextBlock Text="ðŸ”’ Lvl 60" Foreground="#666666" HorizontalAlignment="Right" FontSize="13"/>
                                </Grid>
                                <TextBlock Text="Reach Level 60 to Unlock" Foreground="{StaticResource PinkBrush}" 
                                           FontSize="12" Margin="0,8,0,0"/>
                            </StackPanel>
                            
                            <!-- Unlocked State -->
                            <StackPanel x:Name="Level60Unlocked" Visibility="Collapsed">
                                <Grid>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="ðŸ“º Bouncing Text" Foreground="{StaticResource PinkBrush}" FontWeight="Bold"/>
                                        <TextBlock Text="âœ” Lvl 60" Foreground="{StaticResource PinkBrush}" Margin="8,0,0,0"/>
                                    </StackPanel>
                                    <CheckBox x:Name="ChkBouncingTextEnabled" Style="{StaticResource ToggleStyle}" 
                                              HorizontalAlignment="Right"
                                              Checked="ChkBouncingTextEnabled_Changed" Unchecked="ChkBouncingTextEnabled_Changed"/>
                                </Grid>
                                
                                <StackPanel x:Name="BouncingTextSettings" Margin="0,10,0,0">
                                    <!-- Speed -->
                                    <Grid Margin="0,3,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Style="{StaticResource SettingLabel}" Text="Speed"
                                                   ToolTip="How fast the text bounces"/>
                                        <TextBlock x:Name="TxtBouncingTextSpeed" Grid.Column="1" Style="{StaticResource ValueLabel}" Text="5"/>
                                    </Grid>
                                    <Slider x:Name="SliderBouncingTextSpeed" Minimum="1" Maximum="10" Value="5" 
                                            Margin="0,1" ValueChanged="SliderBouncingTextSpeed_Changed"
                                            ToolTip="Bounce speed (1=slow, 10=fast)"/>
                                    
                                    <!-- Size -->
                                    <Grid Margin="0,8,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Style="{StaticResource SettingLabel}" Text="Size"
                                                   ToolTip="Text size (50% to 300%)"/>
                                        <TextBlock x:Name="TxtBouncingTextSize" Grid.Column="1" Style="{StaticResource ValueLabel}" Text="100%"/>
                                    </Grid>
                                    <Slider x:Name="SliderBouncingTextSize" Minimum="50" Maximum="300" Value="100" 
                                            Margin="0,1" ValueChanged="SliderBouncingTextSize_Changed"
                                            ToolTip="Text size (50%=small, 100%=normal, 300%=huge)"/>
                                    
                                    <!-- XP Info -->
                                    <TextBlock Text="ðŸ’° +10 XP per bounce!" 
                                               Foreground="#50C878" FontSize="12" 
                                               HorizontalAlignment="Center" Margin="0,8,0,0"/>
                                    
                                    <!-- Edit Phrases -->
                                    <Button Content="âœ Edit Phrases" 
                                            Background="#40FFFFFF" Foreground="White" 
                                            BorderThickness="0" Padding="10,5" Margin="0,10,0,0"
                                            Cursor="Hand" Click="BtnEditBouncingText_Click"
                                            ToolTip="Customize the bouncing text phrases"/>
                                </StackPanel>
                            </StackPanel>
                            </Grid>
                            
                            <!-- Feature Image -->
                            <Border x:Name="BouncingTextFeatureImage" Grid.Column="1" Style="{StaticResource FeatureImageBorder}">
                                <Image Source="pack://application:,,,/Resources/features/bouncing text.png" Stretch="Uniform"/>
                            </Border>
                        </Grid>
                    </Border>

                    <!-- Mind Wipe - Lvl 75 -->
                    <Border Background="#1E1E3A" CornerRadius="8" Padding="12" Margin="0,5"
                            ToolTip="Random mind wipe audio effects!&#x0a;Escalates in frequency during sessions.&#x0a;Unlocks at Level 75.">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <Grid Grid.Column="0">
                            <!-- Locked State -->
                            <StackPanel x:Name="MindWipeLocked" Visibility="Visible">
                                <Grid>
                                    <TextBlock Text="ðŸ§  Mind Wipe" Foreground="#666666" FontWeight="Bold" FontSize="14"/>
                                    <TextBlock Text="ðŸ”’ Lvl 75" Foreground="#666666" HorizontalAlignment="Right" FontSize="13"/>
                                </Grid>
                                <TextBlock Text="Reach Level 75 to Unlock" Foreground="{StaticResource PinkBrush}" 
                                           FontSize="12" Margin="0,8,0,0"/>
                            </StackPanel>
                            
                            <!-- Unlocked State -->
                            <StackPanel x:Name="MindWipeUnlocked" Visibility="Collapsed">
                                <Grid>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="ðŸ§  Mind Wipe" Foreground="{StaticResource PinkBrush}" FontWeight="Bold" FontSize="14"/>
                                        <TextBlock Text="âœ” Lvl 75" Foreground="{StaticResource PinkBrush}" Margin="8,0,0,0"/>
                                    </StackPanel>
                                    <CheckBox x:Name="ChkMindWipeEnabled" Style="{StaticResource ToggleStyle}" 
                                              HorizontalAlignment="Right"
                                              Checked="ChkMindWipeEnabled_Changed" Unchecked="ChkMindWipeEnabled_Changed"/>
                                </Grid>
                                
                                <StackPanel x:Name="MindWipeSettings" Margin="0,10,0,0">
                                    <!-- Frequency -->
                                    <Grid Margin="0,3,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Style="{StaticResource SettingLabel}" Text="Frequency"
                                                   ToolTip="How many times per hour (outside sessions)"/>
                                        <TextBlock x:Name="TxtMindWipeFreq" Grid.Column="1" Style="{StaticResource ValueLabel}" Text="6/h"/>
                                    </Grid>
                                    <Slider x:Name="SliderMindWipeFreq" Minimum="1" Maximum="180" Value="6" 
                                            Margin="0,1" ValueChanged="SliderMindWipeFreq_Changed"
                                            ToolTip="Mind wipe frequency (1-180 per hour)"/>
                                    
                                    <!-- Volume -->
                                    <Grid Margin="0,8,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Style="{StaticResource SettingLabel}" Text="Volume"
                                                   ToolTip="Mind wipe audio volume (independent of other audio)"/>
                                        <TextBlock x:Name="TxtMindWipeVolume" Grid.Column="1" Style="{StaticResource ValueLabel}" Text="50%"/>
                                    </Grid>
                                    <Slider x:Name="SliderMindWipeVolume" Minimum="0" Maximum="100" Value="50" 
                                            Margin="0,1" ValueChanged="SliderMindWipeVolume_Changed"
                                            ToolTip="Volume level (0-100%)"/>
                                    
                                    <!-- Loop Toggle -->
                                    <Grid Margin="0,10,0,0">
                                        <TextBlock Style="{StaticResource SettingLabel}" Text="ðŸ” Loop in Background"
                                                   ToolTip="Continuously loop a single track instead of random triggers"/>
                                        <CheckBox x:Name="ChkMindWipeLoop" Style="{StaticResource ToggleStyle}" 
                                                  HorizontalAlignment="Right"
                                                  Checked="ChkMindWipeLoop_Changed" Unchecked="ChkMindWipeLoop_Changed"/>
                                    </Grid>
                                    
                                    <!-- Test Button -->
                                    <Button Content="ðŸ”Š Test Now" 
                                            Background="#40FFFFFF" Foreground="White" 
                                            BorderThickness="0" Padding="10,5" Margin="0,10,0,0"
                                            Cursor="Hand" Click="BtnTestMindWipe_Click"
                                            ToolTip="Play a mind wipe sound now"/>
                                </StackPanel>
                            </StackPanel>
                            </Grid>
                            
                            <!-- Feature Image -->
                            <Border x:Name="MindWipeFeatureImage" Grid.Column="1" Style="{StaticResource FeatureImageBorder}">
                                <Image Source="pack://application:,,,/Resources/features/Mind Wipers.png" Stretch="Uniform"/>
                            </Border>
                        </Grid>
                    </Border>
                </StackPanel>
                </ScrollViewer>
            </Border>

            <!-- Right Column: Scheduler + Ramp stacked -->
            <StackPanel Grid.Column="1" Grid.Row="0">
                <!-- Scheduler Box -->
                <Border Style="{StaticResource SectionPanel}" Margin="5">
                    <StackPanel>
                        <TextBlock Style="{StaticResource SectionHeader}" Text="ðŸ“… Scheduler" FontSize="14"/>
                        
                        <!-- Enable -->
                        <Grid Margin="0,3">
                            <TextBlock Style="{StaticResource SettingLabel}" Text="Enable" FontSize="12"/>
                            <CheckBox x:Name="ChkSchedulerEnabled" Style="{StaticResource ToggleStyle}" HorizontalAlignment="Right"/>
                        </Grid>
                        
                        <!-- Time Range -->
                        <Grid Margin="0,3">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBox x:Name="TxtStartTime" Grid.Column="0" Text="16:00" Background="#1E1E3A" 
                                     Foreground="White" BorderBrush="{StaticResource PinkBrush}" 
                                     Padding="6,4" FontSize="12" TextAlignment="Center"/>
                            <TextBlock Grid.Column="1" Text="â†’" Foreground="White" FontSize="12" Margin="5,0" VerticalAlignment="Center"/>
                            <TextBox x:Name="TxtEndTime" Grid.Column="2" Text="22:00" Background="#1E1E3A" 
                                     Foreground="White" BorderBrush="{StaticResource PinkBrush}" 
                                     Padding="6,4" FontSize="12" TextAlignment="Center"/>
                        </Grid>
                        
                        <!-- Days -->
                        <WrapPanel Margin="0,3">
                            <CheckBox x:Name="ChkMon" Content="M" Foreground="White" Margin="0,0,6,0" IsChecked="True" FontSize="10"/>
                            <CheckBox x:Name="ChkTue" Content="T" Foreground="White" Margin="0,0,6,0" IsChecked="True" FontSize="10"/>
                            <CheckBox x:Name="ChkWed" Content="W" Foreground="White" Margin="0,0,6,0" IsChecked="True" FontSize="10"/>
                            <CheckBox x:Name="ChkThu" Content="T" Foreground="White" Margin="0,0,6,0" IsChecked="True" FontSize="10"/>
                            <CheckBox x:Name="ChkFri" Content="F" Foreground="White" Margin="0,0,6,0" IsChecked="True" FontSize="10"/>
                            <CheckBox x:Name="ChkSat" Content="S" Foreground="White" Margin="0,0,6,0" IsChecked="True" FontSize="10"/>
                            <CheckBox x:Name="ChkSun" Content="S" Foreground="White" Margin="0,0,0,0" IsChecked="True" FontSize="10"/>
                        </WrapPanel>
                    </StackPanel>
                </Border>
                
                <!-- Intensity Ramp Box -->
                <Border Style="{StaticResource SectionPanel}" Margin="5">
                    <StackPanel>
                        <TextBlock Style="{StaticResource SectionHeader}" Text="âš¡ Intensity Ramp" FontSize="14"/>
                        
                        <!-- Enable Ramp -->
                        <Grid Margin="0,3">
                            <TextBlock Style="{StaticResource SettingLabel}" Text="Enable" FontSize="12"/>
                            <CheckBox x:Name="ChkRampEnabled" Style="{StaticResource ToggleStyle}" HorizontalAlignment="Right"/>
                        </Grid>
                        
                        <!-- Duration -->
                        <Grid Margin="0,2">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="50"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Style="{StaticResource SettingLabel}" Text="Duration" FontSize="11"/>
                            <Slider Grid.Column="1" x:Name="SliderRampDuration" Minimum="10" Maximum="180" Value="60" 
                                    Margin="5,0" ValueChanged="SliderRampDuration_Changed"/>
                            <TextBlock x:Name="TxtRampDuration" Grid.Column="2" Style="{StaticResource ValueLabel}" Text="60 min" FontSize="11"/>
                        </Grid>
                        
                        <!-- Multiplier -->
                        <Grid Margin="0,2">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="50"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Style="{StaticResource SettingLabel}" Text="Multiplier" FontSize="11"/>
                            <Slider Grid.Column="1" x:Name="SliderMultiplier" Minimum="1" Maximum="3" Value="1.5" 
                                    Margin="5,0" ValueChanged="SliderMultiplier_Changed"/>
                            <TextBlock x:Name="TxtMultiplier" Grid.Column="2" Style="{StaticResource ValueLabel}" Text="1.5x" FontSize="11"/>
                        </Grid>
                        
                        <!-- End at Ramp -->
                        <Grid Margin="0,2">
                            <TextBlock Style="{StaticResource SettingLabel}" Text="End at Complete" FontSize="11"/>
                            <CheckBox x:Name="ChkEndAtRamp" Style="{StaticResource ToggleStyle}" HorizontalAlignment="Right"/>
                        </Grid>
                        
                        <!-- Ramp Links -->
                        <TextBlock Text="Link to Ramp" Foreground="{StaticResource PinkBrush}" FontSize="11" Margin="0,5,0,2"/>
                        <Border Background="#1E1E3A" CornerRadius="4" Padding="6,4">
                            <WrapPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,0,8,2">
                                    <CheckBox x:Name="ChkRampLinkFlash" Style="{StaticResource ToggleStyle}"/>
                                    <TextBlock Text="Flash" Foreground="#AAA" FontSize="10" Margin="4,0,0,0" VerticalAlignment="Center"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,0,8,2">
                                    <CheckBox x:Name="ChkRampLinkSpiral" Style="{StaticResource ToggleStyle}"/>
                                    <TextBlock Text="Spiral" Foreground="#AAA" FontSize="10" Margin="4,0,0,0" VerticalAlignment="Center"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,0,8,2">
                                    <CheckBox x:Name="ChkRampLinkPink" Style="{StaticResource ToggleStyle}"/>
                                    <TextBlock Text="Pink" Foreground="#AAA" FontSize="10" Margin="4,0,0,0" VerticalAlignment="Center"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,0,8,2">
                                    <CheckBox x:Name="ChkRampLinkMaster" Style="{StaticResource ToggleStyle}"/>
                                    <TextBlock Text="Master" Foreground="#AAA" FontSize="10" Margin="4,0,0,0" VerticalAlignment="Center"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,2">
                                    <CheckBox x:Name="ChkRampLinkSubAudio" Style="{StaticResource ToggleStyle}"/>
                                    <TextBlock Text="Sub" Foreground="#AAA" FontSize="10" Margin="4,0,0,0" VerticalAlignment="Center"/>
                                </StackPanel>
                            </WrapPanel>
                        </Border>
                    </StackPanel>
                </Border>
            </StackPanel>
            
            <!-- Coming Soon: Community -->
            <Border Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="1" Style="{StaticResource SectionPanel}" Margin="5" MinHeight="80"
                    ToolTip="Coming Soon: Connect with other users!">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <TextBlock Text="ðŸŒ" FontSize="28" VerticalAlignment="Center" Margin="0,0,15,0"/>
                    <StackPanel VerticalAlignment="Center">
                        <TextBlock Text="Community" Foreground="{StaticResource PinkBrush}" 
                                   FontSize="16" FontWeight="Bold"/>
                        <TextBlock Text="Coming Soon - Connect, share &amp; compete" Foreground="#888888" 
                                   FontSize="11" FontStyle="Italic"/>
                    </StackPanel>
                </StackPanel>
            </Border>
        </Grid>

        <!-- Achievements Tab -->
        <Border x:Name="AchievementsTab" Grid.Row="3" Margin="10,5,10,10" Visibility="Collapsed"
                Style="{StaticResource SectionPanel}">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <TextBlock Style="{StaticResource SectionHeader}" Text="ðŸ† Achievements" Margin="0,0,0,10"/>
                    <TextBlock Text="Complete challenges to unlock achievements! Locked achievements are blurred until earned." 
                               Foreground="#888888" FontSize="12" Margin="0,0,0,15"/>
                    
                    <!-- Achievement Grid - 7 columns -->
                    <ItemsControl x:Name="AchievementsGrid">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <UniformGrid Columns="7"/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                    </ItemsControl>
                    
                    <!-- Dynamic Achievement Grid (populated in code-behind) -->
                    <UniformGrid x:Name="AchievementGrid" Columns="7" Margin="0,5">
                    </UniformGrid>
                    
                    <TextBlock x:Name="TxtAchievementCount" Text="0 / 25 Achievements Unlocked" Foreground="#888888" FontSize="14" 
                               HorizontalAlignment="Center" Margin="0,15,0,0"/>
                </StackPanel>
            </ScrollViewer>
        </Border>

    </Grid>
</Window>
